{"version":3,"file":"point-worker-kFZ2vqzY.js","sources":["../src/three-shapfile-render/shap/worker/point-worker.js"],"sourcesContent":["const textDecoder = new TextDecoder()\r\nconst textEncoder = new TextEncoder()\r\nonmessage = (e)=>{\r\n    const data = e.data\r\n    const points = JSON.parse(textDecoder.decode(data))\r\n    let item;\r\n    let geometry;\r\n    let style;\r\n    const point = []\r\n    const color = []\r\n    const size = []\r\n    for(let i = 0 ; i < points.length ; i++) {\r\n        geometry = points[i].geometry\r\n        style = points[i].style\r\n        if (geometry.type === \"Point\") {\r\n            point.push(\r\n                geometry.coordinates[0],\r\n                geometry.coordinates[1],\r\n                0\r\n            )\r\n            color.push(\r\n                style.color[0] * 255,\r\n                style.color[1] * 255,\r\n                style.color[2] * 255\r\n            )\r\n            size.push(style.size)\r\n        }\r\n\r\n        if (geometry.type === 'MultiPoint') {\r\n            geometry.coordinates.forEach(element => {\r\n                point.push(element.coordinates[0] , element.coordinates[1] , 0)\r\n                color.push(\r\n                    style.color[0] * 255,\r\n                    style.color[1] * 255,\r\n                    style.color[2] * 255\r\n                )\r\n                size.push(style.size)\r\n            })\r\n        }\r\n    }\r\n\r\n    const position = new Float32Array(point)\r\n\r\n    const colors = new Uint8Array(color)\r\n\r\n    const sizes = new Uint8Array(size)\r\n\r\n    postMessage( {\r\n        geometry : {\r\n            position : position,\r\n            color : colors,\r\n            size : sizes\r\n        },\r\n        type : 'point'\r\n    } , [\r\n        position.buffer,\r\n        colors.buffer,\r\n        sizes.buffer\r\n    ])\r\n}"],"names":["textDecoder","e","data","points","geometry","style","point","color","size","i","element","position","colors","sizes"],"mappings":"yBAAA,MAAMA,EAAc,IAAI,YACJ,IAAI,YACxB,UAAaC,GAAI,CACb,MAAMC,EAAOD,EAAE,KACTE,EAAS,KAAK,MAAMH,EAAY,OAAOE,CAAI,CAAC,EAElD,IAAIE,EACAC,EACJ,MAAMC,EAAQ,CAAE,EACVC,EAAQ,CAAE,EACVC,EAAO,CAAE,EACf,QAAQC,EAAI,EAAIA,EAAIN,EAAO,OAASM,IAChCL,EAAWD,EAAOM,CAAC,EAAE,SACrBJ,EAAQF,EAAOM,CAAC,EAAE,MACdL,EAAS,OAAS,UAClBE,EAAM,KACFF,EAAS,YAAY,CAAC,EACtBA,EAAS,YAAY,CAAC,EACtB,CACH,EACDG,EAAM,KACFF,EAAM,MAAM,CAAC,EAAI,IACjBA,EAAM,MAAM,CAAC,EAAI,IACjBA,EAAM,MAAM,CAAC,EAAI,GACpB,EACDG,EAAK,KAAKH,EAAM,IAAI,GAGpBD,EAAS,OAAS,cAClBA,EAAS,YAAY,QAAQM,GAAW,CACpCJ,EAAM,KAAKI,EAAQ,YAAY,CAAC,EAAIA,EAAQ,YAAY,CAAC,EAAI,CAAC,EAC9DH,EAAM,KACFF,EAAM,MAAM,CAAC,EAAI,IACjBA,EAAM,MAAM,CAAC,EAAI,IACjBA,EAAM,MAAM,CAAC,EAAI,GACpB,EACDG,EAAK,KAAKH,EAAM,IAAI,CACpC,CAAa,EAIT,MAAMM,EAAW,IAAI,aAAaL,CAAK,EAEjCM,EAAS,IAAI,WAAWL,CAAK,EAE7BM,EAAQ,IAAI,WAAWL,CAAI,EAEjC,YAAa,CACT,SAAW,CACP,SAAWG,EACX,MAAQC,EACR,KAAOC,CACV,EACD,KAAO,OACf,EAAQ,CACAF,EAAS,OACTC,EAAO,OACPC,EAAM,MACd,CAAK,CACL"}